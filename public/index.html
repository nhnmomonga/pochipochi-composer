<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>„Éù„ÉÅ„Éù„ÉÅ‰ΩúÊõ≤ÂÆ∂</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(135deg, #FFE5B4, #FFB6C1, #98D8E8);
      min-height: 100vh;
      padding: 20px;
      font-size: 18px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    h1 {
      text-align: center;
      color: #FF6B6B;
      font-size: 3em;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    .section {
      margin-bottom: 40px;
      padding: 20px;
      background: #F8F9FA;
      border-radius: 15px;
      border: 3px solid #FFD93D;
    }
    
    .section-title {
      font-size: 1.8em;
      color: #4ECDC4;
      margin-bottom: 20px;
      text-align: center;
    }
    
    /* 8x8 Grid for music notes */
    .music-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      max-width: 600px;
      margin: 0 auto 20px;
      background: #333;
      padding: 15px;
      border-radius: 15px;
    }
    
    .grid-cell {
      width: 60px;
      height: 60px;
      background: #555;
      border: 2px solid #777;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    
    .grid-cell:hover {
      background: #666;
      transform: scale(1.05);
    }
    
    .grid-cell.active {
      background: #FFD93D;
      border-color: #FF6B6B;
      animation: bounce 0.3s ease;
    }
    
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    /* Sticker selection */
    .sticker-section {
      text-align: center;
    }
    
    .stickers {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    
    .sticker {
      width: 80px;
      height: 80px;
      background: white;
      border: 4px solid #ddd;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      transition: all 0.3s ease;
      user-select: none;
    }
    
    .sticker:hover {
      transform: scale(1.1);
      border-color: #FFD93D;
    }
    
    .sticker.selected {
      border-color: #FF6B6B;
      background: #FFE5E5;
      transform: scale(1.1);
    }
    
    .sticker-labels {
      display: flex;
      justify-content: center;
      gap: 45px;
      flex-wrap: wrap;
    }
    
    .sticker-label {
      font-size: 16px;
      color: #666;
      text-align: center;
      width: 80px;
    }
    
    /* Controls */
    .controls {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
      margin-bottom: 30px;
    }
    
    .control-group {
      text-align: center;
    }
    
    .control-label {
      display: block;
      font-size: 1.2em;
      color: #4ECDC4;
      margin-bottom: 10px;
      font-weight: bold;
    }
    
    .control-buttons {
      display: flex;
      gap: 10px;
    }
    
    .control-btn {
      padding: 15px 20px;
      font-size: 18px;
      border: 3px solid #ddd;
      background: white;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      min-width: 60px;
    }
    
    .control-btn:hover {
      background: #F0F0F0;
      transform: translateY(-2px);
    }
    
    .control-btn.active {
      background: #4ECDC4;
      border-color: #4ECDC4;
      color: white;
    }
    
    /* Main action button */
    .create-button {
      display: block;
      width: 300px;
      height: 80px;
      margin: 0 auto;
      background: linear-gradient(45deg, #FF6B6B, #FF8E8E);
      border: none;
      border-radius: 40px;
      color: white;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      font-family: inherit;
    }
    
    .create-button:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 25px rgba(0,0,0,0.4);
    }
    
    .create-button:active {
      transform: translateY(-1px) scale(1.02);
    }
    
    .create-button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    /* Loading animation */
    .loading {
      text-align: center;
      padding: 40px;
      font-size: 24px;
      color: #4ECDC4;
    }
    
    .loading-dots {
      display: inline-block;
      animation: dots 1.5s infinite;
    }
    
    @keyframes dots {
      0%, 20% { content: ''; }
      40% { content: '.'; }
      60% { content: '..'; }
      80%, 100% { content: '...'; }
    }
    
    /* Playback section */
    .playback {
      text-align: center;
      padding: 30px;
      background: #E8F5E8;
      border-radius: 15px;
      margin-top: 20px;
    }
    
    .playback-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    
    .play-btn {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: none;
      font-size: 40px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .play-btn.play {
      background: #4CAF50;
      color: white;
    }
    
    .play-btn.stop {
      background: #F44336;
      color: white;
    }
    
    .play-btn.again {
      background: #2196F3;
      color: white;
    }
    
    .play-btn:hover {
      transform: scale(1.1);
    }
    
    /* Hidden sections */
    .hidden {
      display: none;
    }
    
    /* Selected notes display */
    .notes-info {
      text-align: center;
      margin-top: 15px;
      font-size: 16px;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéµ „Éù„ÉÅ„Éù„ÉÅ‰ΩúÊõ≤ÂÆ∂ üéµ</h1>
    
    <div id="compose-section">
      <!-- Music Grid -->
      <div class="section">
        <div class="section-title">„Åä„Çì„Åå„Åè„Çí „Å§„Åè„Çç„ÅÜÔºÅ</div>
        <div class="music-grid" id="musicGrid"></div>
        <div class="notes-info" id="notesInfo">„Çø„ÉÉ„Éó„Åó„Å¶ „Åä„Çì„Å∑„Çí „Åä„ÅÑ„Å¶„Å≠ÔºÅ</div>
      </div>
      
      <!-- Sticker Selection -->
      <div class="section sticker-section">
        <div class="section-title">„Å©„Çì„Å™ „Åç„Å∂„ÇìÔºü</div>
        <div class="stickers">
          <div class="sticker" data-tag="„Å≠„Åì">üê±</div>
          <div class="sticker" data-tag="„Å≠„ÇÄ„ÅÑ">üò¥</div>
          <div class="sticker" data-tag="„Å†„ÅÑ„Åº„ÅÜ„Åë„Çì">üöÄ</div>
        </div>
        <div class="sticker-labels">
          <div class="sticker-label">„Å≠„Åì„Å°„ÇÉ„Çì</div>
          <div class="sticker-label">„Å≠„ÇÄ„Å≠„ÇÄ</div>
          <div class="sticker-label">„Åº„ÅÜ„Åë„Çì</div>
        </div>
      </div>
      
      <!-- Simple Controls -->
      <div class="section">
        <div class="controls">
          <div class="control-group">
            <span class="control-label">„ÅØ„ÇÑ„Åï</span>
            <div class="control-buttons">
              <button class="control-btn" data-tempo="80">„ÇÜ„Å£„Åè„Çä</button>
              <button class="control-btn active" data-tempo="112">„Åµ„Å§„ÅÜ</button>
              <button class="control-btn" data-tempo="140">„ÅØ„ÇÑ„ÅÑ</button>
            </div>
          </div>
          <div class="control-group">
            <span class="control-label">„Åä„Å®</span>
            <div class="control-buttons">
              <button class="control-btn active" data-key="C">„Éâ</button>
              <button class="control-btn" data-key="G">„ÇΩ</button>
              <button class="control-btn" data-key="F">„Éï„Ç°</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Create Button -->
      <button class="create-button" id="createButton" onclick="createMusic()">
        üéµ „Åä„Çì„Åå„Åè„Çí „Å§„Åè„ÇãÔºÅ üéµ
      </button>
    </div>
    
    <!-- Loading Section -->
    <div id="loading-section" class="hidden">
      <div class="loading">
        „Åä„Çì„Åå„Åè„Çí „Å§„Åè„Å£„Å¶„ÅÑ„Çã„Çà<span class="loading-dots"></span>
        <br><br>
        <div style="font-size: 48px;">üéº‚ú®</div>
      </div>
    </div>
    
    <!-- Playback Section -->
    <div id="playback-section" class="hidden">
      <div class="playback">
        <div class="section-title">„Åß„Åç„ÅüÔºÅ „Åç„ÅÑ„Å¶„Åø„Çà„ÅÜÔºÅ</div>
        <div class="playback-buttons">
          <button class="play-btn play" onclick="playMusic()">‚ñ∂Ô∏è</button>
          <button class="play-btn stop" onclick="stopMusic()">‚èπÔ∏è</button>
          <button class="play-btn again" onclick="createAgain()">üîÑ</button>
        </div>
        <div style="margin-top: 20px; font-size: 16px; color: #666;">
          „Åï„ÅÑ„Åõ„ÅÑ / „Å®„ÇÅ„Çã / „ÇÇ„ÅÜ„ÅÑ„Å°„Å©
        </div>
      </div>
    </div>
  </div>
  
  <script src="script.js"></script>
</body>
</html>
